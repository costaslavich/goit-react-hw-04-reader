{"version":3,"sources":["Publication/Publication.module.css","Counter/Counter.module.css","Reader/Reader.module.css","Publication/Publication.js","Counter/Counter.js","Controls/Controls.js","Reader/Reader.js","App.js","index.js","Controls/Controls.module.css"],"names":["module","exports","publication","counter","reader","Publications","_ref","article","react_default","a","createElement","className","styles","title","text","Counter","currentPage","totalPages","react","Controls","handlePrev","handleNext","indexCurrentPage","controls","button","type","onClick","disabled","queryParams","props","queryString","parse","location","search","item","Reader","state","items","publications","_this$props","_this","history","push","Object","objectSpread","concat","Number","_this$props2","_this$props3","this","length","replace","pathname","Publication","src_Counter_Counter","src_Controls_Controls","Component","withRouter","App","react_router","path","component","to","ReactDOM","render","react_router_dom","basename","document","querySelector"],"mappings":"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","file":"static/js/main.54cb3704.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"publication\":\"Publication_publication__20qvy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"counter\":\"Counter_counter__3c8oo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reader\":\"Reader_reader__2VUa5\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Publication.module.css';\n\nconst Publications = ({ article }) => (\n  <article className={styles.publication}>\n    <h2>{article.title}</h2>\n    <p>{article.text}</p>\n  </article>\n);\n\nPublications.propTypes = {\n  article: PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    text: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default Publications;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Counter.module.css';\n\nconst Counter = ({ currentPage, totalPages }) => (\n  <Fragment>\n    <p className={styles.counter}>\n      {currentPage}/{totalPages}\n    </p>\n  </Fragment>\n);\n\nCounter.propTypes = {\n  currentPage: PropTypes.number.isRequired,\n  totalPages: PropTypes.number.isRequired,\n};\n\nexport default Counter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Controls.module.css';\n\nconst Controls = ({ handlePrev, handleNext, indexCurrentPage, totalPages }) => (\n  <section className={styles.controls}>\n    <button\n      className={styles.button}\n      type=\"button\"\n      onClick={handlePrev}\n      disabled={indexCurrentPage < 1}\n    >\n      Назад\n    </button>\n\n    <button\n      className={styles.button}\n      type=\"button\"\n      onClick={handleNext}\n      disabled={indexCurrentPage >= totalPages - 1}\n    >\n      Вперед\n    </button>\n  </section>\n);\n\nControls.propTypes = {\n  handlePrev: PropTypes.func.isRequired,\n  handleNext: PropTypes.func.isRequired,\n  indexCurrentPage: PropTypes.number.isRequired,\n  totalPages: PropTypes.number.isRequired,\n};\n\nexport default Controls;\n","import React, { Component } from 'react';\nimport queryString from 'query-string';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport Publication from '../Publication/Publication';\nimport Counter from '../Counter/Counter';\nimport Controls from '../Controls/Controls';\nimport publications from '../publications.json';\nimport styles from './Reader.module.css';\n\nconst queryParams = props => queryString.parse(props.location.search).item;\n\nclass Reader extends Component {\n  static propTypes = {\n    location: PropTypes.shape({\n      search: PropTypes.string.isRequired,\n      pathname: PropTypes.string.isRequired,\n    }).isRequired,\n    history: PropTypes.shape({\n      push: PropTypes.func.isRequired,\n      replace: PropTypes.func.isRequired,\n    }).isRequired,\n  };\n\n  state = {\n    items: publications,\n  };\n\n  componentDidMount() {\n    const { history, location } = this.props;\n    const { items } = this.state;\n    const indexCurrentPage = queryParams(this.props);\n\n    if (\n      Number(indexCurrentPage) >= 0 &&\n      Number(indexCurrentPage) < items.length\n    ) {\n      history.push({\n        ...location,\n        search: `?item=${Number(indexCurrentPage)}`,\n      });\n    } else\n      history.replace({\n        pathname: '/reader',\n        search: `?item=1`,\n      });\n  }\n\n  // componentDidUpdate(prevProps) {\n  //   const { history, location } = this.props;\n  //   const indexCurrentPage = queryParams(this.props);\n\n  //   if (prevProps.location !== location) {\n  //     history.push({\n  //       ...location,\n  //       search: `?item=${Number(indexCurrentPage)}`,\n  //     });\n  //   }\n  // }\n\n  handlePrev = () => {\n    const { history, location } = this.props;\n    const indexCurrentPage = queryParams(this.props);\n\n    history.push({\n      ...location,\n      search: `?item=${Number(indexCurrentPage) - 1}`,\n    });\n  };\n\n  handleNext = () => {\n    const { history, location } = this.props;\n    const indexCurrentPage = queryParams(this.props);\n\n    history.push({\n      ...location,\n      search: `?item=${Number(indexCurrentPage) + 1}`,\n    });\n  };\n\n  render() {\n    const { items } = this.state;\n    const indexCurrentPage = queryParams(this.props);\n\n    return (\n      <div className={styles.reader}>\n        <Publication article={items[Number(indexCurrentPage)]} />\n        <Counter\n          currentPage={Number(indexCurrentPage) + 1}\n          totalPages={items.length}\n        />\n        <Controls\n          handlePrev={this.handlePrev}\n          handleNext={this.handleNext}\n          indexCurrentPage={Number(indexCurrentPage)}\n          totalPages={items.length}\n        />\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Reader);\n","import React from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport Reader from './Reader/Reader';\n\nconst App = () => (\n  <Switch>\n    <Route path=\"/reader\" component={Reader} />\n    <Redirect to=\"/reader\" />\n  </Switch>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter, Route } from 'react-router-dom';\nimport App from './App';\nimport './styles.css';\n\nReactDOM.render(\n  <HashRouter basename=\"/\">\n    <Route component={App} />\n  </HashRouter>,\n  document.querySelector('#root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__2eK6o\",\"button\":\"Controls_button__1P_jm\"};"],"sourceRoot":""}