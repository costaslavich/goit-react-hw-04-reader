{"version":3,"sources":["Publication/Publication.module.css","Counter/Counter.module.css","Reader/Reader.module.css","Publication/Publication.js","Counter/Counter.js","Controls/Controls.js","Reader/Reader.js","App.js","index.js","Controls/Controls.module.css"],"names":["module","exports","publication","counter","reader","Publications","_ref","item","react_default","a","createElement","className","styles","title","text","Counter","currentPage","totalPages","react","Controls","handlePrev","handleNext","indexCurrentPage","controls","button","type","onClick","disabled","queryParams","itemNumber","Number","queryString","parse","Reader","state","items","publications","NumberParse","_this","props","location","search","setState","this","_this$props","history","qsNumberPublication","push","Object","objectSpread","concat","prevState","_this$props2","_this$state","Publication","src_Counter_Counter","length","src_Controls_Controls","Component","withRouter","App","react_router","path","component","to","ReactDOM","render","react_router_dom","basename","document","querySelector"],"mappings":"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","file":"static/js/main.98bb560e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"publication\":\"Publication_publication__20qvy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"counter\":\"Counter_counter__3c8oo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reader\":\"Reader_reader__2VUa5\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Publication.module.css';\n\nconst Publications = ({ item }) => (\n  <article className={styles.publication}>\n    <h2>{item.title}</h2>\n    <p>{item.text}</p>\n  </article>\n);\n\nPublications.propTypes = {\n  item: PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    text: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default Publications;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Counter.module.css';\n\nconst Counter = ({ currentPage, totalPages }) => (\n  <Fragment>\n    <p className={styles.counter}>\n      {currentPage + 1}/{totalPages}\n    </p>\n  </Fragment>\n);\n\nCounter.propTypes = {\n  currentPage: PropTypes.number.isRequired,\n  totalPages: PropTypes.number.isRequired,\n};\n\nexport default Counter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Controls.module.css';\n\nconst Controls = ({ handlePrev, handleNext, indexCurrentPage, totalPages }) => (\n  <section className={styles.controls}>\n    <button\n      className={styles.button}\n      type=\"button\"\n      onClick={handlePrev}\n      disabled={indexCurrentPage < 1}\n    >\n      Назад\n    </button>\n\n    <button\n      className={styles.button}\n      type=\"button\"\n      onClick={handleNext}\n      disabled={indexCurrentPage >= totalPages - 1}\n    >\n      Вперед\n    </button>\n  </section>\n);\n\nControls.propTypes = {\n  handlePrev: PropTypes.func.isRequired,\n  handleNext: PropTypes.func.isRequired,\n  indexCurrentPage: PropTypes.number.isRequired,\n  totalPages: PropTypes.number.isRequired,\n};\n\nexport default Controls;\n","import React, { Component } from 'react';\nimport queryString from 'query-string';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport Publication from '../Publication/Publication';\nimport Counter from '../Counter/Counter';\nimport Controls from '../Controls/Controls';\nimport publications from '../publications.json';\nimport styles from './Reader.module.css';\n\nconst queryParams = (indexCurrentPage, itemNumber) => {\n  if (indexCurrentPage) {\n    return Number(queryString.parse(indexCurrentPage).item);\n  }\n\n  return Number(itemNumber);\n};\n\nclass Reader extends Component {\n  static propTypes = {\n    location: PropTypes.shape({\n      search: PropTypes.string.isRequired,\n    }).isRequired,\n    history: PropTypes.shape({\n      push: PropTypes.func.isRequired,\n    }).isRequired,\n  };\n\n  state = {\n    items: publications,\n    indexCurrentPage: 0,\n  };\n\n  componentDidMount() {\n    const { indexCurrentPage } = this.state;\n    const { history, location } = this.props;\n    const qsNumberPublication = queryParams(location.search, indexCurrentPage);\n\n    if (qsNumberPublication !== indexCurrentPage) {\n      this.setState({ indexCurrentPage: qsNumberPublication });\n\n      history.push({\n        ...location,\n        search: `?item=${qsNumberPublication}`,\n      });\n      return;\n    }\n    history.push({\n      ...location,\n      search: `?item=${indexCurrentPage}`,\n    });\n  }\n\n  handlePrev = () => {\n    const NumberParse = queryParams(this.props.location.search);\n\n    this.setState({\n      indexCurrentPage: NumberParse - 1,\n    });\n  };\n\n  handleNext = () => {\n    const NumberParse = queryParams(this.props.location.search);\n\n    this.setState({\n      indexCurrentPage: NumberParse + 1,\n    });\n  };\n\n  componenetDidUpdate(prevState) {\n    const { indexCurrentPage } = this.state;\n    const { history, location } = this.props;\n\n    if (queryParams(prevState.location.search) === indexCurrentPage) {\n      return;\n    }\n    history.push({\n      ...location,\n      search: `?item=${indexCurrentPage}`,\n    });\n  }\n\n  render() {\n    const { indexCurrentPage, items } = this.state;\n\n    return (\n      <div className={styles.reader}>\n        <Publication item={items[indexCurrentPage]} />\n        <Counter currentPage={indexCurrentPage} totalPages={items.length} />\n        <Controls\n          handlePrev={this.handlePrev}\n          handleNext={this.handleNext}\n          indexCurrentPage={indexCurrentPage}\n          totalPages={items.length}\n        />\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Reader);\n","import React from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport Reader from './Reader/Reader';\n\nconst App = () => (\n  <Switch>\n    <Route path=\"/reader\" component={Reader} />\n    <Redirect to=\"/\" />\n  </Switch>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter, Route } from 'react-router-dom';\nimport App from './App';\nimport './styles.css';\n\nReactDOM.render(\n  <HashRouter basename=\"/\">\n    <Route component={App} />\n  </HashRouter>,\n  document.querySelector('#root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__2eK6o\",\"button\":\"Controls_button__1P_jm\"};"],"sourceRoot":""}